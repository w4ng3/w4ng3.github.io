import{_ as u}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o as i,c as r,b as o,w as a,d as n,e as s}from"./app-o23ze9Vn.js";const k={},d=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" server "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"./utils/server"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" router "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"./router"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" requestHandlers "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"./utils/requestHandlers"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" handle "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
handle`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"/"'),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" requestHandlers"),n("span",{class:"token punctuation"},"."),s("start"),n("span",{class:"token punctuation"},";"),s(`
handle`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"/start"'),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" requestHandlers"),n("span",{class:"token punctuation"},"."),s("start"),n("span",{class:"token punctuation"},";"),s(`
handle`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"/upload"'),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" requestHandlers"),n("span",{class:"token punctuation"},"."),s("upload"),n("span",{class:"token punctuation"},";"),s(`

server`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),s("router"),n("span",{class:"token punctuation"},"."),s("route"),n("span",{class:"token punctuation"},","),s(" handle"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),m=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" http "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"http"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"url"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("route"),n("span",{class:"token punctuation"},","),s(" handle")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"onRequest"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("request"),n("span",{class:"token punctuation"},","),s(" response")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" postData "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" pathname "),n("span",{class:"token operator"},"="),s(" url"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"parse"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("url"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("pathname"),n("span",{class:"token punctuation"},";"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Request for "'),s(),n("span",{class:"token operator"},"+"),s(" pathname "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'" received."'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    request`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setEncoding"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"utf8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    request`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addListener"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"data"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"postDataChunk"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      postData `),n("span",{class:"token operator"},"+="),s(" postDataChunk"),n("span",{class:"token punctuation"},";"),s(`
      console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},`"Received POST data chunk '"`),s(),n("span",{class:"token operator"},"+"),s(" postDataChunk "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},`"'."`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    request`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addListener"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"end"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token function"},"route"),n("span",{class:"token punctuation"},"("),s("handle"),n("span",{class:"token punctuation"},","),s(" pathname"),n("span",{class:"token punctuation"},","),s(" response"),n("span",{class:"token punctuation"},","),s(" postData"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  http`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createServer"),n("span",{class:"token punctuation"},"("),s("onRequest"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"listen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"8888"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Server has started."'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

exports`),n("span",{class:"token punctuation"},"."),s("start "),n("span",{class:"token operator"},"="),s(" start"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),v=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" exec "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"child_process"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("exec"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" querystring "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"require"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"querystring"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// 处理POST请求"),s(`
`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("response"),n("span",{class:"token punctuation"},","),s(" postData")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},`"Request handler 'start' was called."`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" body "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},`
  <html>
    <head>
      <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    </head>
    <body>
      <form action="/upload" method="post">
        <textarea name="text" rows="20" cols="60"></textarea>
        <input type="submit" value="Submit text" />
      </form>
    </body>
  </html>;`),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},";"),s(`

  response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"writeHead"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"200"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token string-property property"},'"Content-Type"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"text/html"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),s("body"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"end"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"upload"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("response"),n("span",{class:"token punctuation"},","),s(" postData")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},`"Request handler 'upload' was called."`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"writeHead"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"200"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token string-property property"},'"Content-Type"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"text/plain"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},`"You've sent the text: "`),s(),n("span",{class:"token operator"},"+"),s(" querystring"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"parse"),n("span",{class:"token punctuation"},"("),s("postData"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("text"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"end"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

exports`),n("span",{class:"token punctuation"},"."),s("start "),n("span",{class:"token operator"},"="),s(" start"),n("span",{class:"token punctuation"},";"),s(`
exports`),n("span",{class:"token punctuation"},"."),s("upload "),n("span",{class:"token operator"},"="),s(" upload"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),b=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"route"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("handle"),n("span",{class:"token punctuation"},","),s(" pathname"),n("span",{class:"token punctuation"},","),s(" response"),n("span",{class:"token punctuation"},","),s(" postData")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"About to route a request for "'),s(),n("span",{class:"token operator"},"+"),s(" pathname"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" handle"),n("span",{class:"token punctuation"},"["),s("pathname"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},'"function"'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    handle`),n("span",{class:"token punctuation"},"["),s("pathname"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"("),s("response"),n("span",{class:"token punctuation"},","),s(" postData"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"No request handler found for "'),s(),n("span",{class:"token operator"},"+"),s(" pathname"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"writeHead"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"404"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token string-property property"},'"Content-Type"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"text/plain"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"404 Not found"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"end"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
exports`),n("span",{class:"token punctuation"},"."),s("route "),n("span",{class:"token operator"},"="),s(" route"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("figure",null,[n("img",{src:"https://riddler.oss-cn-shanghai.aliyuncs.com/blog/httpserver.gif",alt:"post请求",tabindex:"0",loading:"lazy"}),n("figcaption",null,"post请求")],-1),h=n("h2",{id:"参考",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#参考","aria-hidden":"true"},"#"),s(" 参考")],-1),f={href:"https://www.nodebeginner.org/index-zh-cn.html",target:"_blank",rel:"noopener noreferrer"},y={href:"https://cloud.tencent.com/developer/article/1410703",target:"_blank",rel:"noopener noreferrer"},_={href:"https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises",target:"_blank",rel:"noopener noreferrer"};function x(w,q){const l=p("CodeTabs"),c=p("ExternalLinkIcon");return i(),r("div",null,[o(l,{id:"0",data:[{id:"index.js"},{id:"server.js"},{id:"requestHandles.js"},{id:"router.js"}],"tab-id":"language"},{title0:a(({value:t,isActive:e})=>[s("index.js")]),title1:a(({value:t,isActive:e})=>[s("server.js")]),title2:a(({value:t,isActive:e})=>[s("requestHandles.js")]),title3:a(({value:t,isActive:e})=>[s("router.js")]),tab0:a(({value:t,isActive:e})=>[d]),tab1:a(({value:t,isActive:e})=>[m]),tab2:a(({value:t,isActive:e})=>[v]),tab3:a(({value:t,isActive:e})=>[b]),_:1},8,["data"]),g,h,n("ul",null,[n("li",null,[n("a",f,[s("Node 入门"),o(c)])]),n("li",null,[n("a",y,[s("module.exports 、exports、export、export default 的区别"),o(c)])]),n("li",null,[n("a",_,[s("如何使用 Promise"),o(c)])])])])}const C=u(k,[["render",x],["__file","HTTP_server.html.vue"]]);export{C as default};
